<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Schedule Generator - AI Study Planner</title>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --success: #4cc9f0;
            --warning: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
        }
        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            margin: 0; 
            padding: 20px; 
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
        }
        .header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 30px; 
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .nav-btn { 
            padding: 12px 24px; 
            background: var(--primary); 
            color: white; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            text-decoration: none; 
            display: inline-block;
            font-weight: 600;
            transition: all 0.3s;
        }
        .nav-btn:hover { 
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .section { 
            background: white; 
            padding: 30px; 
            border-radius: 15px; 
            margin-bottom: 30px; 
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        h1, h2, h3 { 
            color: var(--primary); 
            margin-top: 0; 
        }
        h1 {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.5em;
        }
        .form-group { 
            margin-bottom: 25px; 
        }
        label { 
            display: block; 
            margin-bottom: 10px; 
            font-weight: 600; 
            color: #555;
            font-size: 1.1em;
        }
        input, select, textarea { 
            width: 100%; 
            padding: 14px; 
            border: 2px solid #e1e5eb; 
            border-radius: 10px; 
            font-size: 16px; 
            transition: all 0.3s;
        }
        input:focus, select:focus, textarea:focus { 
            border-color: var(--primary); 
            outline: none;
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }
        .btn { 
            padding: 16px 32px; 
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); 
            color: white; 
            border: none; 
            border-radius: 10px; 
            cursor: pointer; 
            font-size: 18px; 
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .btn:hover { 
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.3);
        }
        .back-btn { 
            margin-bottom: 30px; 
        }
        .ai-wizard {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        .ai-wizard h2 {
            color: white;
            font-size: 2em;
            margin-bottom: 10px;
        }
        .wizard-icon {
            font-size: 4em;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .option-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; 
            margin-top: 20px; 
        }
        .option-card { 
            padding: 25px; 
            border: 2px solid #e1e5eb; 
            border-radius: 10px; 
            text-align: center; 
            cursor: pointer; 
            transition: all 0.3s;
            background: white;
        }
        .option-card:hover { 
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .option-card.selected { 
            border-color: var(--primary);
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            transform: scale(1.05);
        }
        .option-card i { 
            font-size: 40px; 
            margin-bottom: 15px; 
            display: block; 
            color: var(--primary);
        }
        .input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .slider-container {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        .slider-value {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--primary);
            text-align: center;
            margin-top: 10px;
        }
        .ai-insights {
            background: #e8f5e9;
            border-left: 5px solid #4caf50;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .insight-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .insight-icon {
            font-size: 24px;
            color: var(--primary);
        }
        .loading {
            text-align: center;
            padding: 40px;
            display: none;
        }
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .ai-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .feature-card {
            padding: 25px;
            background: white;
            border-radius: 10px;
            border: 2px solid #e1e5eb;
            transition: all 0.3s;
        }
        .feature-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
        }
        .feature-icon {
            font-size: 2em;
            margin-bottom: 15px;
            color: var(--primary);
        }
        .parameter-slider {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 15px;
        }
        .parameter-label {
            min-width: 150px;
            font-weight: 600;
        }
        .advanced-settings {
            display: none;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e1e5eb;
        }
        .toggle-advanced {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }
        .ai-recommendation {
            background: linear-gradient(135deg, #4cc9f0 0%, #4361ee 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .recommendation-content {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .recommendation-icon {
            font-size: 3em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="back-btn">
            <a href="/dashboard" class="nav-btn">‚Üê Back to Dashboard</a>
        </div>

        <!-- AI Wizard Header -->
        <div class="ai-wizard">
            <div class="wizard-icon">üß†</div>
            <h2>AI Schedule Generator</h2>
            <p style="font-size: 1.2em; opacity: 0.9;">Let our AI create the perfect study schedule tailored just for you!</p>
        </div>

        <!-- Schedule Generation Form -->
        <div class="section">
            <h2>üéØ Schedule Parameters</h2>
            <p>Configure how you want your schedule to be generated:</p>
            
            <form method="POST" action="/generate_ai_schedule" id="scheduleForm">
                <!-- Schedule Type Selection -->
                <div class="form-group">
                    <label>Schedule Type:</label>
                    <div class="option-grid">
                        <div class="option-card" onclick="selectScheduleType(this, 'balanced')">
                            <div>‚öñÔ∏è</div>
                            <h3>Balanced</h3>
                            <p>Mix of all subjects daily</p>
                            <small>Recommended for most students</small>
                        </div>
                        <div class="option-card" onclick="selectScheduleType(this, 'focused')">
                            <div>üéØ</div>
                            <h3>Focused</h3>
                            <p>Deep focus on fewer subjects</p>
                            <small>Good for difficult topics</small>
                        </div>
                        <div class="option-card" onclick="selectScheduleType(this, 'intensive')">
                            <div>üî•</div>
                            <h3>Intensive</h3>
                            <p>Maximum productivity</p>
                            <small>Exam preparation mode</small>
                        </div>
                        <div class="option-card" onclick="selectScheduleType(this, 'adaptive')">
                            <div>üîÑ</div>
                            <h3>Adaptive</h3>
                            <p>AI adjusts based on progress</p>
                            <small>Smart learning path</small>
                        </div>
                    </div>
                    <input type="hidden" id="schedule_type" name="schedule_type" value="balanced">
                </div>

                <!-- Duration Settings -->
                <div class="form-group">
                    <label>Schedule Duration:</label>
                    <div class="input-group">
                        <div>
                            <label for="start_date">Start Date:</label>
                            <input type="date" id="start_date" name="start_date" required>
                        </div>
                        <div>
                            <label for="days_ahead">Number of Days:</label>
                            <select id="days_ahead" name="days_ahead" onchange="updateDurationPreview()">
                                <option value="7">1 Week</option>
                                <option value="14" selected>2 Weeks</option>
                                <option value="30">1 Month</option>
                                <option value="60">2 Months</option>
                                <option value="90">3 Months</option>
                            </select>
                        </div>
                    </div>
                    <div id="durationPreview" class="slider-value">Generating 14-day schedule</div>
                </div>

                <!-- AI Parameters -->
                <div class="form-group">
                    <label>AI Configuration:</label>
                    <div class="slider-container">
                        <div class="parameter-slider">
                            <div class="parameter-label">Priority Weight:</div>
                            <input type="range" min="1" max="10" value="7" class="slider" id="priorityWeight" oninput="updateSliderValue(this, 'priorityValue')">
                            <span id="priorityValue" class="slider-value">7</span>
                        </div>
                        <small>Higher = More focus on important topics</small>
                        
                        <div class="parameter-slider">
                            <div class="parameter-label">Difficulty Balance:</div>
                            <input type="range" min="1" max="10" value="5" class="slider" id="difficultyBalance" oninput="updateSliderValue(this, 'difficultyValue')">
                            <span id="difficultyValue" class="slider-value">5</span>
                        </div>
                        <small>Lower = Easier topics first, Higher = Challenge yourself</small>
                        
                        <div class="parameter-slider">
                            <div class="parameter-label">Flexibility:</div>
                            <input type="range" min="1" max="10" value="6" class="slider" id="flexibility" oninput="updateSliderValue(this, 'flexibilityValue')">
                            <span id="flexibilityValue" class="slider-value">6</span>
                        </div>
                        <small>Higher = More buffer time, Lower = Tight schedule</small>
                    </div>
                </div>

                <!-- Subject Selection -->
                <div class="form-group">
                    <label>Select Subjects to Include:</label>
                    <div id="subjectList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; margin-top: 15px;">
                        <!-- Subjects will be loaded dynamically -->
                        <div style="padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                            <p>Loading subjects...</p>
                        </div>
                    </div>
                </div>

                <!-- Advanced Settings Toggle -->
                <button type="button" class="toggle-advanced" onclick="toggleAdvancedSettings()">
                    <span id="advancedIcon">‚ñ∂</span> Advanced Settings
                </button>

                <!-- Advanced Settings -->
                <div class="advanced-settings" id="advancedSettings">
                    <h3>‚öôÔ∏è Advanced AI Settings</h3>
                    
                    <div class="form-group">
                        <label>Study Method Distribution:</label>
                        <div class="input-group">
                            <div>
                                <label for="reading_percent">Reading (%):</label>
                                <input type="range" min="0" max="100" value="30" id="reading_percent" oninput="updateMethodDistribution()">
                                <span id="readingValue">30%</span>
                            </div>
                            <div>
                                <label for="videos_percent">Videos (%):</label>
                                <input type="range" min="0" max="100" value="25" id="videos_percent" oninput="updateMethodDistribution()">
                                <span id="videosValue">25%</span>
                            </div>
                            <div>
                                <label for="problems_percent">Problems (%):</label>
                                <input type="range" min="0" max="100" value="35" id="problems_percent" oninput="updateMethodDistribution()">
                                <span id="problemsValue">35%</span>
                            </div>
                            <div>
                                <label for="learning_percent">Active Learning (%):</label>
                                <input type="range" min="0" max="100" value="10" id="learning_percent" oninput="updateMethodDistribution()">
                                <span id="learningValue">10%</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Break Preferences:</label>
                        <div class="input-group">
                            <div>
                                <label for="break_frequency">Break Frequency:</label>
                                <select id="break_frequency" name="break_frequency">
                                    <option value="pomodoro">Pomodoro (25/5)</option>
                                    <option value="hourly" selected>Hourly (50/10)</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                            <div>
                                <label for="long_break">Long Break After:</label>
                                <select id="long_break" name="long_break">
                                    <option value="2">2 sessions</option>
                                    <option value="3">3 sessions</option>
                                    <option value="4" selected>4 sessions</option>
                                    <option value="5">5 sessions</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Revision Strategy:</label>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                            <label>
                                <input type="checkbox" name="revision_strategy" value="spaced" checked> 
                                üìÖ Spaced Repetition
                            </label>
                            <label>
                                <input type="checkbox" name="revision_strategy" value="interleaved"> 
                                üîÄ Interleaved Practice
                            </label>
                            <label>
                                <input type="checkbox" name="revision_strategy" value="active_recall"> 
                                üí≠ Active Recall
                            </label>
                            <label>
                                <input type="checkbox" name="revision_strategy" value="weekly_review"> 
                                üìä Weekly Review
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="custom_instructions">Custom AI Instructions:</label>
                        <textarea id="custom_instructions" name="custom_instructions" rows="3" placeholder="e.g., Focus more on calculus, include weekend revision, add mock tests on Fridays..."></textarea>
                    </div>
                </div>

                <!-- AI Insights -->
                <div class="ai-insights">
                    <h3>ü§ñ AI Insights</h3>
                    <div id="aiInsights">
                        <div class="insight-item">
                            <div class="insight-icon">üéØ</div>
                            <div>
                                <strong>Based on your goals:</strong>
                                <p>AI will prioritize topics with upcoming exams</p>
                            </div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-icon">‚è∞</div>
                            <div>
                                <strong>Time optimization:</strong>
                                <p>Schedule will consider your peak productivity hours</p>
                            </div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-icon">üìö</div>
                            <div>
                                <strong>Learning strategy:</strong>
                                <p>Mixed study methods for better retention</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Generate Button -->
                <div style="text-align: center; margin-top: 40px;">
                    <button type="button" class="btn" onclick="generateSchedule()">
                        üß† Generate AI Schedule
                    </button>
                </div>
            </form>

            <!-- Loading Indicator -->
            <div class="loading" id="loadingIndicator">
                <div class="loader"></div>
                <h3>AI is generating your personalized schedule...</h3>
                <p>This may take a few moments. Our AI is analyzing:</p>
                <ul style="text-align: left; display: inline-block;">
                    <li>Your subject priorities</li>
                    <li>Exam dates and difficulty levels</li>
                    <li>Your study preferences</li>
                    <li>Optimal learning patterns</li>
                </ul>
            </div>
        </div>

        <!-- AI Features -->
        <div class="section">
            <h2>‚ú® AI-Powered Features</h2>
            <div class="ai-features">
                <div class="feature-card">
                    <div class="feature-icon">ü§ñ</div>
                    <h3>Smart Time Estimation</h3>
                    <p>AI calculates exact time needed for each topic based on difficulty and your proficiency level.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîÑ</div>
                    <h3>Adaptive Rescheduling</h3>
                    <p>Auto-adjusts schedule if you miss sessions or need more time on difficult topics.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üòä</div>
                    <h3>Mood-Aware Planning</h3>
                    <p>Adjusts difficulty based on your energy levels and mood patterns.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Progress Optimization</h3>
                    <p>Continuously improves schedule based on your performance data.</p>
                </div>
            </div>
        </div>

        <!-- AI Recommendation -->
        <div class="ai-recommendation">
            <div class="recommendation-content">
                <div class="recommendation-icon">üí°</div>
                <div>
                    <h3 style="color: white;">AI Recommendation</h3>
                    <p style="font-size: 1.1em;">Based on your study history, we recommend starting with a <strong>balanced schedule</strong> for the first two weeks, then switching to <strong>focused mode</strong> as exams approach.</p>
                    <button class="nav-btn" style="background: white; color: #4361ee; margin-top: 10px;" onclick="applyAIRecommendation()">
                        ‚úÖ Apply This Recommendation
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize date picker with today's date
        document.getElementById('start_date').valueAsDate = new Date();
        document.getElementById('start_date').min = new Date().toISOString().split('T')[0];

        // Load subjects dynamically
        function loadSubjects() {
            // In a real app, this would fetch from the server
            const subjects = [
                { id: 1, name: 'Mathematics', examDate: '2024-12-15' },
                { id: 2, name: 'Physics', examDate: '2024-12-18' },
                { id: 3, name: 'Chemistry', examDate: '2024-12-20' },
                { id: 4, name: 'Biology', examDate: '2024-12-22' },
                { id: 5, name: 'Computer Science', examDate: '2024-12-25' }
            ];
            
            const subjectList = document.getElementById('subjectList');
            subjectList.innerHTML = '';
            
            subjects.forEach(subject => {
                const subjectDiv = document.createElement('div');
                subjectDiv.className = 'option-card';
                subjectDiv.style.cursor = 'pointer';
                subjectDiv.onclick = function() { this.classList.toggle('selected'); };
                subjectDiv.innerHTML = `
                    <div>üìö</div>
                    <h4>${subject.name}</h4>
                    <small>Exam: ${subject.examDate}</small>
                    <input type="checkbox" name="subject_${subject.id}" checked style="display: none;">
                `;
                subjectList.appendChild(subjectDiv);
            });
        }

        function selectScheduleType(element, type) {
            // Remove selection from all cards
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selection to clicked card
            element.classList.add('selected');
            document.getElementById('schedule_type').value = type;
            
            // Update AI insights based on selection
            updateAIInsights(type);
        }

        function updateSliderValue(slider, valueSpanId) {
            document.getElementById(valueSpanId).textContent = slider.value;
        }

        function updateDurationPreview() {
            const days = document.getElementById('days_ahead').value;
            const text = days === '7' ? '1-week' : 
                        days === '14' ? '2-week' :
                        days === '30' ? '1-month' :
                        days === '60' ? '2-month' : '3-month';
            document.getElementById('durationPreview').textContent = `Generating ${text} schedule`;
        }

        function toggleAdvancedSettings() {
            const advancedSettings = document.getElementById('advancedSettings');
            const advancedIcon = document.getElementById('advancedIcon');
            
            if (advancedSettings.style.display === 'block') {
                advancedSettings.style.display = 'none';
                advancedIcon.textContent = '‚ñ∂';
            } else {
                advancedSettings.style.display = 'block';
                advancedIcon.textContent = '‚ñº';
            }
        }

        function updateMethodDistribution() {
            const reading = document.getElementById('reading_percent').value;
            const videos = document.getElementById('videos_percent').value;
            const problems = document.getElementById('problems_percent').value;
            const learning = document.getElementById('learning_percent').value;
            
            document.getElementById('readingValue').textContent = reading + '%';
            document.getElementById('videosValue').textContent = videos + '%';
            document.getElementById('problemsValue').textContent = problems + '%';
            document.getElementById('learningValue').textContent = learning + '%';
            
            // Normalize to 100%
            const total = parseInt(reading) + parseInt(videos) + parseInt(problems) + parseInt(learning);
            if (total !== 100) {
                document.getElementById('learning_percent').value = 100 - (parseInt(reading) + parseInt(videos) + parseInt(problems));
                document.getElementById('learningValue').textContent = (100 - (parseInt(reading) + parseInt(videos) + parseInt(problems))) + '%';
            }
        }

        function updateAIInsights(scheduleType) {
            const insights = document.getElementById('aiInsights');
            
            let insightHTML = '';
            
            if (scheduleType === 'balanced') {
                insightHTML = `
                    <div class="insight-item">
                        <div class="insight-icon">‚öñÔ∏è</div>
                        <div>
                            <strong>Balanced Approach</strong>
                            <p>Daily mix of subjects to prevent burnout</p>
                        </div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-icon">üîÑ</div>
                        <div>
                            <strong>Varied Learning</strong>
                            <p>Different study methods for better retention</p>
                        </div>
                    </div>
                `;
            } else if (scheduleType === 'focused') {
                insightHTML = `
                    <div class="insight-item">
                        <div class="insight-icon">üéØ</div>
                        <div>
                            <strong>Deep Focus</strong>
                            <p>Concentrated sessions on fewer subjects</p>
                        </div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-icon">üîç</div>
                        <div>
                            <strong>Mastery Learning</strong>
                            <p>Thorough understanding before moving on</p>
                        </div>
                    </div>
                `;
            } else if (scheduleType === 'intensive') {
                insightHTML = `
                    <div class="insight-item">
                        <div class="insight-icon">üî•</div>
                        <div>
                            <strong>Exam Mode</strong>
                            <p>Maximum study hours with frequent breaks</p>
                        </div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-icon">üìù</div>
                        <div>
                            <strong>Practice Intensive</strong>
                            <p>Heavy focus on problems and revisions</p>
                        </div>
                    </div>
                `;
            } else {
                insightHTML = `
                    <div class="insight-item">
                        <div class="insight-icon">üîÑ</div>
                        <div>
                            <strong>Adaptive Learning</strong>
                            <p>Schedule adjusts based on your performance</p>
                        </div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-icon">üìä</div>
                        <div>
                            <strong>Data-Driven</strong>
                            <p>AI learns from your study patterns</p>
                        </div>
                    </div>
                `;
            }
            
            insights.innerHTML = insightHTML;
        }

        function generateSchedule() {
            // Show loading indicator
            document.getElementById('loadingIndicator').style.display = 'block';
            document.getElementById('scheduleForm').style.display = 'none';
            
            // Collect form data
            const formData = new FormData(document.getElementById('scheduleForm'));
            
            // Simulate AI processing
            setTimeout(() => {
                // Submit the form
                document.getElementById('scheduleForm').submit();
            }, 2000);
        }

        function applyAIRecommendation() {
            // Set balanced schedule type
            document.querySelectorAll('.option-card').forEach(card => card.classList.remove('selected'));
            document.querySelector('.option-grid .option-card:nth-child(1)').classList.add('selected');
            document.getElementById('schedule_type').value = 'balanced';
            
            // Set 14 days
            document.getElementById('days_ahead').value = '14';
            updateDurationPreview();
            
            // Set moderate AI parameters
            document.getElementById('priorityWeight').value = 7;
            document.getElementById('difficultyBalance').value = 5;
            document.getElementById('flexibility').value = 6;
            updateSliderValue(document.getElementById('priorityWeight'), 'priorityValue');
            updateSliderValue(document.getElementById('difficultyBalance'), 'difficultyValue');
            updateSliderValue(document.getElementById('flexibility'), 'flexibilityValue');
            
            // Update insights
            updateAIInsights('balanced');
            
            alert('AI recommendation applied! Review settings and click "Generate AI Schedule" when ready.');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadSubjects();
            updateDurationPreview();
            updateMethodDistribution();
            updateAIInsights('balanced');
            
            // Select first schedule type by default
            document.querySelector('.option-grid .option-card:nth-child(1)').classList.add('selected');
        });
    </script>
</body>
</html>